const _0x200bb6=_0x3398;(function(_0x3d04da,_0x47ac98){const _0x63dddf=_0x3398,_0x52940f=_0x3d04da();while(!![]){try{const _0x2dc76c=-parseInt(_0x63dddf(0x1fd))/0x1*(-parseInt(_0x63dddf(0x1e4))/0x2)+-parseInt(_0x63dddf(0x23d))/0x3*(parseInt(_0x63dddf(0x29f))/0x4)+parseInt(_0x63dddf(0x1e2))/0x5*(parseInt(_0x63dddf(0x2c4))/0x6)+-parseInt(_0x63dddf(0x1d6))/0x7*(parseInt(_0x63dddf(0x250))/0x8)+parseInt(_0x63dddf(0x20c))/0x9*(-parseInt(_0x63dddf(0x2a6))/0xa)+parseInt(_0x63dddf(0x268))/0xb*(parseInt(_0x63dddf(0x1fc))/0xc)+parseInt(_0x63dddf(0x221))/0xd*(-parseInt(_0x63dddf(0x27e))/0xe);if(_0x2dc76c===_0x47ac98)break;else _0x52940f['push'](_0x52940f['shift']());}catch(_0xfe06f9){_0x52940f['push'](_0x52940f['shift']());}}}(_0xa197,0x2af17));let currentSection=_0x200bb6(0x260),subAdminsData={},itemsData={},transactionsData={};document['addEventListener'](_0x200bb6(0x2a0),async()=>{const _0xa656a6=_0x200bb6;try{await requireAuth(_0xa656a6(0x275)),console[_0xa656a6(0x29e)](_0xa656a6(0x2a3));}catch(_0x53a46c){console[_0xa656a6(0x249)](_0xa656a6(0x212),_0x53a46c);return;}initializeDashboard(),setupEventListeners(),loadDashboardData();});function initializeDashboard(){setupSidebarNavigation(),setupRealtimeListeners(),showSection('dashboard');}function setupEventListeners(){const _0x1f6cd1=_0x200bb6;document[_0x1f6cd1(0x2c7)](_0x1f6cd1(0x292))[_0x1f6cd1(0x2e3)]('click',toggleSidebar),document[_0x1f6cd1(0x2c7)]('addSubAdminBtn')[_0x1f6cd1(0x2e3)](_0x1f6cd1(0x242),()=>showAddSubAdminModal()),document['getElementById']('transferMoneyBtn')[_0x1f6cd1(0x2e3)](_0x1f6cd1(0x242),()=>showSection(_0x1f6cd1(0x254))),document[_0x1f6cd1(0x2c7)](_0x1f6cd1(0x21c))[_0x1f6cd1(0x2e3)](_0x1f6cd1(0x242),()=>showSection(_0x1f6cd1(0x24a))),document[_0x1f6cd1(0x2c7)](_0x1f6cd1(0x2b6))[_0x1f6cd1(0x2e3)](_0x1f6cd1(0x242),()=>showSection(_0x1f6cd1(0x299))),document['getElementById'](_0x1f6cd1(0x223))[_0x1f6cd1(0x2e3)](_0x1f6cd1(0x242),()=>showAddSubAdminModal()),document[_0x1f6cd1(0x2c7)](_0x1f6cd1(0x2ad))[_0x1f6cd1(0x2e3)](_0x1f6cd1(0x2b4),handleAddMoney),document['getElementById'](_0x1f6cd1(0x253))[_0x1f6cd1(0x2e3)](_0x1f6cd1(0x2b4),handleTransferMoney),document[_0x1f6cd1(0x2c7)](_0x1f6cd1(0x1cd))['addEventListener'](_0x1f6cd1(0x2b4),handleProfileUpdate),document[_0x1f6cd1(0x2c7)](_0x1f6cd1(0x243))['addEventListener'](_0x1f6cd1(0x2b4),handlePasswordChange),document['getElementById'](_0x1f6cd1(0x2a2))['addEventListener']('input',filterSubAdmins),document[_0x1f6cd1(0x2c7)](_0x1f6cd1(0x2ce))['addEventListener']('change',filterSubAdmins),document[_0x1f6cd1(0x2c7)](_0x1f6cd1(0x2bd))[_0x1f6cd1(0x2e3)](_0x1f6cd1(0x259),handleGlobalSearch),document[_0x1f6cd1(0x2c7)](_0x1f6cd1(0x2b1))[_0x1f6cd1(0x2e3)](_0x1f6cd1(0x2c5),filterHistory),document['getElementById'](_0x1f6cd1(0x2b3))[_0x1f6cd1(0x2e3)](_0x1f6cd1(0x2c5),filterHistory),document[_0x1f6cd1(0x2c7)](_0x1f6cd1(0x24b))['addEventListener'](_0x1f6cd1(0x2c5),filterHistory),document['getElementById']('exportHistory')[_0x1f6cd1(0x2e3)](_0x1f6cd1(0x242),exportHistory);}function setupSidebarNavigation(){const _0x20b476=_0x200bb6,_0x5a053f=document[_0x20b476(0x26f)](_0x20b476(0x2cb));_0x5a053f[_0x20b476(0x2c6)](_0x5b23bd=>{const _0x98b43d=_0x20b476;_0x5b23bd[_0x98b43d(0x2e3)](_0x98b43d(0x242),_0x36f1f5=>{const _0x4817c4=_0x98b43d;_0x36f1f5[_0x4817c4(0x246)]();const _0x5b92e6=_0x5b23bd[_0x4817c4(0x235)]('data-section');_0x5b92e6&&(showSection(_0x5b92e6),_0x5a053f['forEach'](_0x1f1e28=>_0x1f1e28[_0x4817c4(0x2c2)]['remove'](_0x4817c4(0x297))),_0x5b23bd[_0x4817c4(0x2c2)][_0x4817c4(0x21e)](_0x4817c4(0x297)));});});}function toggleSidebar(){const _0x1317bc=_0x200bb6,_0x364b20=document[_0x1317bc(0x2c7)](_0x1317bc(0x21b));_0x364b20[_0x1317bc(0x2c2)]['toggle']('sidebar-collapsed');}function showSection(_0x54c7a8){const _0x3b870a=_0x200bb6;document['querySelectorAll'](_0x3b870a(0x20b))[_0x3b870a(0x2c6)](_0x4cd374=>{const _0x19c0bc=_0x3b870a;_0x4cd374[_0x19c0bc(0x2c2)]['add'](_0x19c0bc(0x1d0));});const _0x18445e=document[_0x3b870a(0x2c7)](_0x54c7a8+_0x3b870a(0x1d1));if(_0x18445e){_0x18445e[_0x3b870a(0x2c2)][_0x3b870a(0x1c4)](_0x3b870a(0x1d0)),currentSection=_0x54c7a8;const _0x4579a6={'dashboard':_0x3b870a(0x2a7),'subadmins':_0x3b870a(0x24e),'financial':'Financial\x20Management','items':'','history':_0x3b870a(0x2d0),'settings':_0x3b870a(0x213)};document[_0x3b870a(0x2c7)](_0x3b870a(0x238))[_0x3b870a(0x266)]=_0x4579a6[_0x54c7a8]||_0x3b870a(0x27a),loadSectionData(_0x54c7a8);}}function loadSectionData(_0xe53f53){const _0x2ce9bc=_0x200bb6;switch(_0xe53f53){case _0x2ce9bc(0x260):loadDashboardMetrics(),loadRecentActivity();break;case _0x2ce9bc(0x234):loadSubAdmins();break;case'financial':loadSubAdminsForTransfer();break;case _0x2ce9bc(0x24a):loadItems();break;case'history':loadTransactionHistory();break;case'settings':loadProfileSettings();break;}}function setupRealtimeListeners(){const _0x4c981b=_0x200bb6;if(!currentUser)return;database[_0x4c981b(0x1ff)]('accounts')['on'](_0x4c981b(0x25f),_0x23578c=>{const _0x5f1530=_0x4c981b;_0x23578c[_0x5f1530(0x2da)]()&&updateDashboardMetrics();}),database[_0x4c981b(0x1ff)](_0x4c981b(0x1c8))['on']('value',_0x36d9f4=>{const _0x52dffe=_0x4c981b;_0x36d9f4[_0x52dffe(0x2da)]()&&(subAdminsData={},_0x36d9f4[_0x52dffe(0x2c6)](_0x3512fc=>{const _0x3d8a29=_0x52dffe,_0x5f37fd=_0x3512fc[_0x3d8a29(0x288)]();_0x5f37fd[_0x3d8a29(0x2db)]==='subadmin'&&(subAdminsData[_0x3512fc[_0x3d8a29(0x22c)]]=_0x5f37fd);}),currentSection===_0x52dffe(0x234)&&displaySubAdmins(),updateSubAdminCount());}),database['ref'](_0x4c981b(0x202))['on'](_0x4c981b(0x25f),_0x522df3=>{const _0x4947d5=_0x4c981b;_0x522df3[_0x4947d5(0x2da)]()&&(transactionsData=_0x522df3[_0x4947d5(0x288)]()||{},currentSection===_0x4947d5(0x299)&&displayTransactionHistory(),currentSection===_0x4947d5(0x260)&&(loadRecentActivity(),loadDashboardMetrics()),updateFinancialMetrics());}),database[_0x4c981b(0x1ff)](_0x4c981b(0x24a))['on']('value',_0x359a75=>{const _0x1aac82=_0x4c981b;_0x359a75[_0x1aac82(0x2da)]()&&(itemsData=_0x359a75['val']()||{},currentSection===_0x1aac82(0x24a)&&displayItems());});}async function loadDashboardData(){const _0x99253c=_0x200bb6;try{await Promise[_0x99253c(0x286)]([loadDashboardMetrics(),loadRecentActivity(),loadSubAdmins(),loadItems()]);}catch(_0x2d7c1b){console['error'](_0x99253c(0x1c7),_0x2d7c1b),showNotification(_0x99253c(0x240),_0x99253c(0x249));}}async function loadDashboardMetrics(){const _0xec5605=_0x200bb6;try{const _0x22ff74=await getUserBalance(currentUser[_0xec5605(0x205)]);document[_0xec5605(0x2c7)](_0xec5605(0x237))[_0xec5605(0x266)]=formatCurrency(_0x22ff74),updateFinancialMetrics(),updateSubAdminCount();}catch(_0x41e221){console[_0xec5605(0x249)](_0xec5605(0x2b7),_0x41e221);}}function updateFinancialMetrics(){const _0x35f9a6=_0x200bb6;let _0x4e0deb=0x0,_0x789f06=0x0;Object[_0x35f9a6(0x28a)](transactionsData)[_0x35f9a6(0x2c6)](_0x3c5be3=>{const _0xad1411=_0x35f9a6;if(_0x3c5be3[_0xad1411(0x1cb)]===currentUser['uid'])_0x3c5be3[_0xad1411(0x1f1)]===_0xad1411(0x28b)&&(_0x4e0deb+=_0x3c5be3[_0xad1411(0x283)]||0x0);else _0x3c5be3['toUserId']===currentUser[_0xad1411(0x205)]&&((_0x3c5be3[_0xad1411(0x1f1)]===_0xad1411(0x284)||_0x3c5be3[_0xad1411(0x1f1)]===_0xad1411(0x1c6))&&(_0x789f06+=_0x3c5be3[_0xad1411(0x283)]||0x0));});const _0x18199d=Math[_0x35f9a6(0x1ea)](0x0,_0x4e0deb-_0x789f06);document[_0x35f9a6(0x2c7)]('moneyDistributed')[_0x35f9a6(0x266)]=formatCurrency(_0x18199d),document[_0x35f9a6(0x2c7)](_0x35f9a6(0x256))['textContent']=formatCurrency(_0x789f06);}function updateSubAdminCount(){const _0xb37442=_0x200bb6,_0x271aa2=Object['keys'](subAdminsData)['length'];document[_0xb37442(0x2c7)]('totalSubAdmins')[_0xb37442(0x266)]=_0x271aa2;}function loadRecentActivity(){const _0x237ab3=_0x200bb6,_0x452a48=document['getElementById'](_0x237ab3(0x1c9)),_0x1a621c=Object['entries'](transactionsData)[_0x237ab3(0x2e9)](([,_0x346396],[,_0x2d0baa])=>(_0x2d0baa[_0x237ab3(0x2ac)]||0x0)-(_0x346396[_0x237ab3(0x2ac)]||0x0))['slice'](0x0,0xa);if(_0x1a621c[_0x237ab3(0x27d)]===0x0){_0x452a48[_0x237ab3(0x2be)]=_0x237ab3(0x1ce);return;}_0x452a48['innerHTML']=_0x1a621c[_0x237ab3(0x2a9)](([_0x20ffb8,_0x5ee6b1])=>{const _0x208372=_0x237ab3,_0x36a333=formatDate(_0x5ee6b1[_0x208372(0x2ac)]),_0x5ea4ec=formatCurrency(_0x5ee6b1[_0x208372(0x283)]||0x0);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20bg-gray-50\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-8\x20h-8\x20bg-blue-100\x20rounded-full\x20flex\x20items-center\x20justify-center\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+getTransactionIcon(_0x5ee6b1[_0x208372(0x1f1)])+_0x208372(0x233)+getTransactionDescription(_0x5ee6b1)+_0x208372(0x247)+_0x36a333+_0x208372(0x209)+(_0x5ee6b1[_0x208372(0x1f1)]===_0x208372(0x227)?_0x208372(0x293):_0x5ee6b1[_0x208372(0x1f1)]===_0x208372(0x28b)?_0x208372(0x2bf):'text-green-600')+_0x208372(0x2ea)+(_0x5ee6b1['type']==='money_given'?'-':_0x5ee6b1['type']==='purchase'?'âœ“':'+')+_0x5ea4ec+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x237ab3(0x1c5)]('');}function getTransactionIcon(_0x383a0a){const _0x119946=_0x200bb6,_0x144e14={'money_given':_0x119946(0x2df),'money_returned':'fa-arrow-down','purchase':_0x119946(0x276),'transfer':_0x119946(0x252)};return _0x144e14[_0x383a0a]||'fa-circle';}function getTransactionDescription(_0x44551e){const _0x322d6f=_0x200bb6;if(_0x44551e[_0x322d6f(0x1f1)]===_0x322d6f(0x227)&&_0x44551e[_0x322d6f(0x24a)]&&_0x44551e['items']['length']>0x0){const _0x4cfa20=_0x44551e['items'][_0x322d6f(0x2a9)](_0x57b647=>_0x57b647[_0x322d6f(0x26e)]+'\x20('+_0x57b647['quantity']+'x\x20at\x20'+formatCurrency(_0x57b647[_0x322d6f(0x1f8)])+')')['join'](',\x20');return _0x44551e[_0x322d6f(0x29d)]?_0x322d6f(0x290)+_0x4cfa20:_0x322d6f(0x217)+_0x4cfa20;}const _0x214388={'money_given':_0x322d6f(0x1ed),'money_returned':_0x322d6f(0x2e6),'purchase':_0x322d6f(0x291),'transfer':_0x322d6f(0x267)};return _0x214388[_0x44551e[_0x322d6f(0x1f1)]]||_0x322d6f(0x1fb);}async function loadSubAdmins(){displaySubAdmins();}async function displaySubAdmins(){const _0x132cf9=_0x200bb6,_0x2a7017=document[_0x132cf9(0x2c7)](_0x132cf9(0x24f)),_0x153cc3=Object[_0x132cf9(0x278)](subAdminsData);if(_0x153cc3[_0x132cf9(0x27d)]===0x0){_0x2a7017[_0x132cf9(0x2be)]=_0x132cf9(0x22e);return;}const _0x67f9c5=_0x153cc3['map'](async([_0x2b8f7c,_0x145b88])=>{const _0x4ebf3b=await getUserBalance(_0x2b8f7c);return{'uid':_0x2b8f7c,'userData':_0x145b88,'balance':_0x4ebf3b};}),_0x150ce8=await Promise[_0x132cf9(0x286)](_0x67f9c5);_0x2a7017[_0x132cf9(0x2be)]=_0x150ce8[_0x132cf9(0x2a9)](({uid:_0x4b37e8,userData:_0x3b13a5,balance:_0x3aa4c5})=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-4\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-8\x20h-8\x20bg-gray-300\x20rounded-full\x20flex\x20items-center\x20justify-center\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user\x20text-gray-600\x20text-sm\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-medium\x22>'+(_0x3b13a5['name']||_0x132cf9(0x2d9))+_0x132cf9(0x23c)+_0x3b13a5[_0x132cf9(0x2ae)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-4\x20whitespace-nowrap\x20text-sm\x20font-medium\x20text-green-600\x22>'+formatCurrency(_0x3aa4c5)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-4\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22px-2\x20py-1\x20text-xs\x20font-semibold\x20rounded-full\x20'+(_0x3b13a5[_0x132cf9(0x244)]==='active'?_0x132cf9(0x232):_0x132cf9(0x23e))+_0x132cf9(0x2ea)+(_0x3b13a5[_0x132cf9(0x244)]||_0x132cf9(0x211))+_0x132cf9(0x277)+_0x4b37e8+_0x132cf9(0x248)+_0x4b37e8+_0x132cf9(0x1e5)+(_0x3b13a5[_0x132cf9(0x244)]===_0x132cf9(0x211)?'on':_0x132cf9(0x296))+_0x132cf9(0x1f2)+_0x4b37e8+_0x132cf9(0x2e4))[_0x132cf9(0x1c5)]('');}function filterSubAdmins(){const _0x3b2d21=_0x200bb6,_0x426a2f=document['getElementById'](_0x3b2d21(0x2a2))[_0x3b2d21(0x25f)]['toLowerCase'](),_0x22e273=document['getElementById']('subAdminStatusFilter')[_0x3b2d21(0x25f)],_0x856326=document[_0x3b2d21(0x26f)](_0x3b2d21(0x23b));_0x856326['forEach'](_0x21df8e=>{const _0x21c9df=_0x3b2d21,_0x28de6b=_0x21df8e[_0x21c9df(0x20e)]('td:first-child\x20span')[_0x21c9df(0x266)]['toLowerCase'](),_0x1ee893=_0x21df8e[_0x21c9df(0x20e)]('td:nth-child(2)')[_0x21c9df(0x266)][_0x21c9df(0x27c)](),_0x3f125b=_0x21df8e['querySelector'](_0x21c9df(0x1f0))[_0x21c9df(0x266)][_0x21c9df(0x27c)](),_0x25c09b=_0x28de6b[_0x21c9df(0x1c3)](_0x426a2f)||_0x1ee893[_0x21c9df(0x1c3)](_0x426a2f),_0x2b1cb3=!_0x22e273||_0x3f125b[_0x21c9df(0x1c3)](_0x22e273);_0x21df8e['style'][_0x21c9df(0x21d)]=_0x25c09b&&_0x2b1cb3?'':'none';});}function showAddSubAdminModal(){const _0x4d752e=_0x200bb6,_0x3be79e=createModal(_0x4d752e(0x21a),_0x4d752e(0x2a8));document[_0x4d752e(0x2c7)]('addSubAdminForm')['addEventListener']('submit',handleAddSubAdmin);}async function handleAddSubAdmin(_0x2c1a58){const _0x657730=_0x200bb6;_0x2c1a58[_0x657730(0x246)]();const _0x9f71f2=document[_0x657730(0x2c7)](_0x657730(0x1d7))[_0x657730(0x25f)],_0x41cda0=document['getElementById'](_0x657730(0x2e5))[_0x657730(0x25f)],_0x46f2ad=document[_0x657730(0x2c7)](_0x657730(0x2d4))[_0x657730(0x25f)],_0x34d4bc=parseFloat(document[_0x657730(0x2c7)](_0x657730(0x219))[_0x657730(0x25f)])||0x0;try{const _0x4f270f=generateTempPassword(),_0x3105ba=await auth[_0x657730(0x2cf)](_0x41cda0,_0x4f270f),_0x3021b4=_0x3105ba['user'];await createUserInDatabase(_0x3021b4[_0x657730(0x205)],{'name':_0x9f71f2,'email':_0x41cda0,'phone':_0x46f2ad,'role':'subadmin','adminId':currentUser[_0x657730(0x205)]}),_0x34d4bc>0x0&&await transferMoneyToSubAdmin(_0x3021b4[_0x657730(0x205)],_0x34d4bc,_0x657730(0x2d5)),showNotification('Sub-admin\x20added\x20successfully.\x20Temporary\x20password:\x20'+_0x4f270f,_0x657730(0x1e0)),closeModal(),await auth[_0x657730(0x203)](currentUser[_0x657730(0x2ae)],_0x657730(0x2b5));}catch(_0x4cf019){console[_0x657730(0x249)](_0x657730(0x289),_0x4cf019),showNotification(_0x657730(0x271)+_0x4cf019[_0x657730(0x1e7)],_0x657730(0x249));}}function generateTempPassword(){const _0x9b8d12=_0x200bb6;return Math[_0x9b8d12(0x2dd)]()['toString'](0x24)['slice'](-0x8);}async function transferMoneyToSubAdmin(_0x545754,_0x3e7b89,_0x4847d8){const _0x5951cd=_0x200bb6;try{const _0xe74925=await getUserBalance(currentUser[_0x5951cd(0x205)]),_0x27a14a=await getUserBalance(_0x545754);if(_0xe74925<_0x3e7b89)throw new Error(_0x5951cd(0x1ee));const _0x5a3e68={'type':'money_given','fromUserId':currentUser['uid'],'toUserId':_0x545754,'amount':_0x3e7b89,'description':_0x4847d8,'status':_0x5951cd(0x280)},_0x45d396={[_0x5951cd(0x2c3)+currentUser['uid']+_0x5951cd(0x1dc)]:_0xe74925-_0x3e7b89,['accounts/'+_0x545754+'/balance']:_0x27a14a+_0x3e7b89,[_0x5951cd(0x2c3)+currentUser[_0x5951cd(0x205)]+_0x5951cd(0x20d)]:firebase[_0x5951cd(0x25d)][_0x5951cd(0x2a5)]['TIMESTAMP'],[_0x5951cd(0x2c3)+_0x545754+'/updatedAt']:firebase[_0x5951cd(0x25d)]['ServerValue'][_0x5951cd(0x29c)]},_0x3faf6b=database['ref']('transactions')[_0x5951cd(0x258)]()[_0x5951cd(0x22c)];return _0x45d396['transactions/'+_0x3faf6b]={..._0x5a3e68,'timestamp':firebase[_0x5951cd(0x25d)][_0x5951cd(0x2a5)][_0x5951cd(0x29c)],'reference':_0x3faf6b},await database[_0x5951cd(0x1ff)]()[_0x5951cd(0x231)](_0x45d396),!![];}catch(_0x3a467c){console['error']('Error\x20transferring\x20money:',_0x3a467c);throw _0x3a467c;}}async function handleAddMoney(_0x19b610){const _0x5954f4=_0x200bb6;_0x19b610['preventDefault']();const _0xa0d8fa=parseFloat(document['getElementById'](_0x5954f4(0x1f6))[_0x5954f4(0x25f)]),_0x440823=document[_0x5954f4(0x2c7)]('moneySource')[_0x5954f4(0x25f)],_0x11dd27=document[_0x5954f4(0x2c7)](_0x5954f4(0x298))[_0x5954f4(0x25f)];if(!_0xa0d8fa||_0xa0d8fa<=0x0){showNotification(_0x5954f4(0x1df),_0x5954f4(0x249));return;}if(!_0x440823){showNotification('Please\x20select\x20a\x20money\x20source',_0x5954f4(0x249));return;}try{const _0x2fba39=await getUserBalance(currentUser[_0x5954f4(0x205)]),_0x54d023=_0x2fba39+_0xa0d8fa,_0x3c77b5={'type':_0x5954f4(0x2e7),'toUserId':currentUser['uid'],'amount':_0xa0d8fa,'description':_0x440823+':\x20'+_0x11dd27,'status':_0x5954f4(0x280)};await updateUserBalance(currentUser[_0x5954f4(0x205)],_0x54d023,_0x3c77b5),showNotification('Successfully\x20added\x20'+formatCurrency(_0xa0d8fa)+_0x5954f4(0x1d9),'success'),document['getElementById'](_0x5954f4(0x2ad))[_0x5954f4(0x1ca)]();}catch(_0x5b2b59){console[_0x5954f4(0x249)]('Error\x20adding\x20money:',_0x5b2b59),showNotification(_0x5954f4(0x2b9)+_0x5b2b59[_0x5954f4(0x1e7)],'error');}}async function handleTransferMoney(_0x4db244){const _0x433ac6=_0x200bb6;_0x4db244[_0x433ac6(0x246)]();const _0x5d6e53=document[_0x433ac6(0x2c7)](_0x433ac6(0x29b))[_0x433ac6(0x25f)],_0x57f388=parseFloat(document[_0x433ac6(0x2c7)]('transferAmount')[_0x433ac6(0x25f)]),_0x1c0099=document[_0x433ac6(0x2c7)](_0x433ac6(0x26d))[_0x433ac6(0x25f)];if(!_0x5d6e53){showNotification('Please\x20select\x20a\x20sub-admin',_0x433ac6(0x249));return;}if(!_0x57f388||_0x57f388<=0x0){showNotification(_0x433ac6(0x1df),_0x433ac6(0x249));return;}try{await transferMoneyToSubAdmin(_0x5d6e53,_0x57f388,_0x1c0099),showNotification(_0x433ac6(0x28d)+formatCurrency(_0x57f388),'success'),document[_0x433ac6(0x2c7)](_0x433ac6(0x253))['reset']();}catch(_0x4e011a){console['error'](_0x433ac6(0x26b),_0x4e011a),showNotification('Error\x20transferring\x20money:\x20'+_0x4e011a[_0x433ac6(0x1e7)],_0x433ac6(0x249));}}function loadSubAdminsForTransfer(){const _0x3a4895=_0x200bb6,_0x39815c=document[_0x3a4895(0x2c7)](_0x3a4895(0x29b));_0x39815c[_0x3a4895(0x2be)]=_0x3a4895(0x1d8),Object[_0x3a4895(0x278)](subAdminsData)[_0x3a4895(0x2c6)](([_0x469720,_0x395f16])=>{const _0x43b9fd=_0x3a4895;if(_0x395f16[_0x43b9fd(0x244)]===_0x43b9fd(0x211)){const _0x377531=document[_0x43b9fd(0x2d1)]('option');_0x377531['value']=_0x469720,_0x377531[_0x43b9fd(0x266)]=_0x395f16['name']+'\x20('+_0x395f16[_0x43b9fd(0x2ae)]+')',_0x39815c[_0x43b9fd(0x20a)](_0x377531);}});}function loadItems(){displayItems();}function showAddItemModal(){const _0x2ad068=_0x200bb6,_0x54e410='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22addItemForm\x22\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-gray-700\x20text-sm\x20font-bold\x20mb-2\x22>Item\x20Name</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22itemName\x22\x20required\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20border\x20border-gray-300\x20rounded-lg\x20px-4\x20py-2\x20focus:outline-none\x20focus:ring-2\x20focus:ring-blue-500\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20placeholder=\x22Enter\x20item\x20name\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-gray-700\x20text-sm\x20font-bold\x20mb-2\x22>Quantity</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22itemQuantity\x22\x20required\x20min=\x221\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20border\x20border-gray-300\x20rounded-lg\x20px-4\x20py-2\x20focus:outline-none\x20focus:ring-2\x20focus:ring-blue-500\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20placeholder=\x22Enter\x20quantity\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-end\x20space-x-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20onclick=\x22closeModal()\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22bg-gray-500\x20hover:bg-gray-600\x20text-white\x20px-4\x20py-2\x20rounded-lg\x20transition-colors\x20duration-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Cancel\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20px-4\x20py-2\x20rounded-lg\x20transition-colors\x20duration-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Add\x20Item\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20';createModal('Add\x20New\x20Item',_0x54e410),document['getElementById'](_0x2ad068(0x2c0))[_0x2ad068(0x2e3)](_0x2ad068(0x2b4),handleAddItem);}async function handleAddItem(_0x2c2f69){const _0x21b5e7=_0x200bb6;_0x2c2f69[_0x21b5e7(0x246)]();const _0x12d4fc={'name':document[_0x21b5e7(0x2c7)](_0x21b5e7(0x2d7))[_0x21b5e7(0x25f)][_0x21b5e7(0x245)](),'quantity':parseInt(document['getElementById'](_0x21b5e7(0x274))[_0x21b5e7(0x25f)]),'createdBy':currentUser[_0x21b5e7(0x205)],'createdAt':Date[_0x21b5e7(0x28e)](),'available':!![],'assignedTo':null};try{const _0x2f5868=database[_0x21b5e7(0x1ff)](_0x21b5e7(0x24a))[_0x21b5e7(0x258)]();await _0x2f5868[_0x21b5e7(0x2b2)](_0x12d4fc),closeModal(),showNotification('Item\x20added\x20successfully',_0x21b5e7(0x1e0));}catch(_0x3c8745){console[_0x21b5e7(0x249)]('Error\x20adding\x20item:',_0x3c8745),showNotification(_0x21b5e7(0x26c),_0x21b5e7(0x249));}}function showAssignItemModal(_0x8ba380){const _0x6bd3cd=_0x200bb6,_0x117325=itemsData[_0x8ba380];if(!_0x117325)return;const _0x124dcd=_0x6bd3cd(0x270)+_0x8ba380+_0x6bd3cd(0x220)+_0x117325[_0x6bd3cd(0x26e)]+_0x6bd3cd(0x26a)+Object[_0x6bd3cd(0x278)](subAdminsData)[_0x6bd3cd(0x2a9)](([_0x23d411,_0x3b8448])=>_0x6bd3cd(0x208)+_0x23d411+'\x22>'+_0x3b8448[_0x6bd3cd(0x26e)]+_0x6bd3cd(0x28c))[_0x6bd3cd(0x1c5)]('')+_0x6bd3cd(0x210);createModal(_0x6bd3cd(0x1d5),_0x124dcd),document[_0x6bd3cd(0x2c7)]('assignItemForm')[_0x6bd3cd(0x2e3)](_0x6bd3cd(0x2b4),handleAssignItem);}function _0xa197(){const _0x2c8170=['Profile\x20updated\x20successfully','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','purchase','text/csv','\x20(Own\x20Purchase)','bg-yellow-100\x20text-yellow-800','div','key','assignedTo','<tr><td\x20colspan=\x225\x22\x20class=\x22px-6\x20py-4\x20text-center\x20text-gray-500\x22>No\x20sub-admins\x20found</td></tr>','closeModal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','update','bg-green-100\x20text-green-800','\x20text-blue-600\x20text-sm\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-medium\x22>','subadmins','getAttribute','<button\x20onclick=\x22unassignItem(\x27','mainBalance','pageTitle','Error\x20changing\x20password:\x20','Amount','#subAdminsTableBody\x20tr','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-4\x20whitespace-nowrap\x20text-sm\x20text-gray-900\x22>','3mVhpkq','bg-red-100\x20text-red-800','EmailAuthProvider','Error\x20loading\x20dashboard\x20data','money_request','click','passwordForm','status','trim','preventDefault','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>','\x27)\x22\x20class=\x22text-blue-600\x20hover:text-blue-900\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleSubAdminStatus(\x27','error','items','historyTypeFilter','fa-check-circle','\x27)\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20px-4\x20py-2\x20rounded-lg\x20transition-colors\x20duration-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-plus\x20mr-2\x22></i>Assign\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','Sub-Admin\x20Management','subAdminsTableBody','24vaFTib','newPassword','fa-exchange-alt','transferMoneyForm','financial','Failed\x20to\x20update\x20dashboard\x20metrics','moneyReturned','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22closeModal()\x22\x20class=\x22text-gray-400\x20hover:text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','push','input','\x20(Self)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-medium\x22>Quantity:</span>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-gray-600\x22>','<button\x20onclick=\x22showAssignItemModal(\x27','database','keys','value','dashboard','assignToSubAdmin','Password\x20changed\x20successfully','revokeObjectURL','editItem','Assign\x20item:','textContent','Balance\x20transferred','282073zKdJjN','Edit\x20item:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-gray-700\x20text-sm\x20font-bold\x20mb-2\x22>Select\x20Sub-Admin</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22assignToSubAdmin\x22\x20required\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20border\x20border-gray-300\x20rounded-lg\x20px-4\x20py-2\x20focus:outline-none\x20focus:ring-2\x20focus:ring-blue-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>Select\x20sub-admin</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20transferring\x20money:','Error\x20adding\x20item','transferdescription','name','querySelectorAll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22assignItemForm\x22\x20class=\x22space-y-4\x22\x20data-item-id=\x22','Error\x20adding\x20sub-admin:\x20','items/','Type','itemQuantity','admin','fa-shopping-cart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-4\x20whitespace-nowrap\x20text-sm\x20font-medium\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22editSubAdmin(\x27','entries','style','Dashboard','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLowerCase','length','182SjuURm','split','completed','quantity','URL','amount','money_returned','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','all','\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','val','Error\x20adding\x20sub-admin:','values','money_given','</option>','Successfully\x20transferred\x20','now','deleteSubAdmin','Own\x20Purchase:\x20','Item\x20purchased','sidebarToggle','text-blue-600','phone','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20text-gray-500\x20col-span-full\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-box\x20text-3xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>No\x20admin\x20items\x20found</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','off','bg-gray-700','moneyDescription','history','From/To','transferToSubAdmin','TIMESTAMP','isOwnItemPurchase','log','312668tPHIiK','DOMContentLoaded','filter','subAdminSearch','Admin\x20authenticated\x20successfully','itemsList','ServerValue','10kfoAdR','Dashboard\x20Overview','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22addSubAdminForm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-gray-700\x20text-sm\x20font-bold\x20mb-2\x22>Name</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22subAdminName\x22\x20required\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20border\x20border-gray-300\x20rounded-lg\x20px-4\x20py-2\x20focus:outline-none\x20focus:ring-2\x20focus:ring-blue-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-gray-700\x20text-sm\x20font-bold\x20mb-2\x22>Email</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22email\x22\x20id=\x22subAdminEmail\x22\x20required\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20border\x20border-gray-300\x20rounded-lg\x20px-4\x20py-2\x20focus:outline-none\x20focus:ring-2\x20focus:ring-blue-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-gray-700\x20text-sm\x20font-bold\x20mb-2\x22>Phone</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22tel\x22\x20id=\x22subAdminPhone\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20border\x20border-gray-300\x20rounded-lg\x20px-4\x20py-2\x20focus:outline-none\x20focus:ring-2\x20focus:ring-blue-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-gray-700\x20text-sm\x20font-bold\x20mb-2\x22>Initial\x20Budget</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22subAdminBudget\x22\x20step=\x220.01\x22\x20min=\x220\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20border\x20border-gray-300\x20rounded-lg\x20px-4\x20py-2\x20focus:outline-none\x20focus:ring-2\x20focus:ring-blue-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-end\x20space-x-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20onclick=\x22closeModal()\x22\x20class=\x22px-4\x20py-2\x20text-gray-600\x20hover:text-gray-800\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20px-4\x20py-2\x20rounded-lg\x22>Add\x20Sub-Admin</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20','map','Date','credential','timestamp','addMoneyForm','email','fa-exclamation-circle','className','historyFromDate','set','historyToDate','submit','admin-password','viewReportsBtn','Error\x20loading\x20dashboard\x20metrics:','profileEmail','Error\x20adding\x20money:\x20','fixed\x20top-4\x20right-4\x20p-4\x20rounded-lg\x20shadow-lg\x20z-50\x20','reduce','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-medium\x22>Assigned\x20To:</span>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-gray-600\x22>','globalSearch','innerHTML','text-red-600','addItemForm','Error\x20assigning\x20item','classList','accounts/','18fAMbOo','change','forEach','getElementById','assignItem','toUserId','auth','.nav-link','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-4\x20text-sm\x20text-gray-900\x22>','toISOString','subAdminStatusFilter','createUserWithEmailAndPassword','Transaction\x20History','createElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Requested\x20by\x20','subAdminPhone','Initial\x20budget\x20allocation','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20item?','itemName','users/','N/A','exists','role','Available','random','Error\x20updating\x20dashboard\x20metrics:','fa-arrow-up','Assigned','New\x20passwords\x20do\x20not\x20match','isSubAdminItem','addEventListener','\x27)\x22\x20class=\x22text-red-600\x20hover:text-red-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20','subAdminEmail','Money\x20returned\x20from\x20sub-admin','money_added','description','sort','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-4\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22px-2\x20py-1\x20text-xs\x20font-semibold\x20rounded-full\x20','includes','remove','join','transfer','Error\x20loading\x20dashboard\x20data:','users','recentActivity','reset','fromUserId','Unknown','profileForm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-gray-500\x20text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-history\x20text-3xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>No\x20recent\x20activity</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#historyTableBody\x20tr','hidden','-section','Error\x20assigning\x20item:','Error\x20updating\x20profile:','text-green-600','Assign\x20Item','423129hFpAEG','subAdminName','<option\x20value=\x22\x22>Select\x20sub-admin</option>','\x20to\x20main\x20account','Item\x20unassigned\x20successfully','fixed\x20inset-0\x20bg-black\x20bg-opacity-50\x20flex\x20items-center\x20justify-center\x20z-50','/balance','editSubAdmin','available','Please\x20enter\x20a\x20valid\x20amount','success','updatePassword','366635Cvzxhk','bg-green-500','4spOWHZ','\x27)\x22\x20class=\x22text-yellow-600\x20hover:text-yellow-900\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-toggle-','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20sub-admin?','message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20updating\x20profile:\x20','max','pending','addNewItem','Money\x20sent\x20to\x20sub-admin','Insufficient\x20balance','Error\x20unassigning\x20item:','td:nth-child(4)\x20span','type','\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22deleteSubAdmin(\x27','target','<tr><td\x20colspan=\x226\x22\x20class=\x22px-6\x20py-4\x20text-center\x20text-gray-500\x22>No\x20transactions\x20found</td></tr>','text-gray-900','addMoneyAmount','data-item-id','price','createObjectURL','profilePhone','Transaction','156ASUMLx','130849CQLNqf','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-4\x20whitespace-nowrap\x20text-sm\x20','ref','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20text-gray-500\x20col-span-full\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-box\x20text-3xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>No\x20items\x20found</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x27)\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22bg-red-500\x20hover:bg-red-600\x20text-white\x20px-4\x20py-2\x20rounded-lg\x20transition-colors\x20duration-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-minus\x20mr-2\x22></i>Unassign\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','transactions','signInWithEmailAndPassword','bg-red-500','uid','Error\x20changing\x20password:','Edit\x20sub-admin:','<option\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20','appendChild','.section','1354473ZWQCWg','/updatedAt','querySelector','confirmNewPassword','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-end\x20space-x-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20onclick=\x22closeModal()\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22bg-gray-500\x20hover:bg-gray-600\x20text-white\x20px-4\x20py-2\x20rounded-lg\x20transition-colors\x20duration-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Cancel\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20px-4\x20py-2\x20rounded-lg\x20transition-colors\x20duration-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Assign\x20Item\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20','active','Authentication\x20failed:','Settings','deleteItem','Not\x20Assigned','Delete\x20sub-admin:','Admin\x20Item\x20Purchase:\x20','replace','subAdminBudget','Add\x20Sub-Admin','sidebar','assignItemsBtn','display','add','info','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20font-bold\x22>Item:\x20','229138XMIgmN','modalContainer','addNewSubAdmin','Item\x20assigned\x20successfully'];_0xa197=function(){return _0x2c8170;};return _0xa197();}async function handleAssignItem(_0x56e487){const _0x3a6b33=_0x200bb6;_0x56e487['preventDefault']();const _0x55e74b=_0x56e487[_0x3a6b33(0x1f3)][_0x3a6b33(0x235)](_0x3a6b33(0x1f7)),_0x19ee40=document[_0x3a6b33(0x2c7)](_0x3a6b33(0x261))[_0x3a6b33(0x25f)];if(!_0x55e74b||!_0x19ee40)return;try{await database[_0x3a6b33(0x1ff)](_0x3a6b33(0x272)+_0x55e74b)[_0x3a6b33(0x231)]({'assignedTo':_0x19ee40,'assignedAt':Date[_0x3a6b33(0x28e)](),'available':![]}),closeModal(),showNotification(_0x3a6b33(0x224),'success');}catch(_0x59b6fe){console[_0x3a6b33(0x249)](_0x3a6b33(0x1d2),_0x59b6fe),showNotification(_0x3a6b33(0x2c1),_0x3a6b33(0x249));}}function displayItems(){const _0x4b0570=_0x200bb6,_0x21db7a=document[_0x4b0570(0x2c7)](_0x4b0570(0x2a4));if(!itemsData||Object[_0x4b0570(0x25e)](itemsData)[_0x4b0570(0x27d)]===0x0){_0x21db7a[_0x4b0570(0x2be)]=_0x4b0570(0x200);return;}const _0x289c2d=Object[_0x4b0570(0x278)](itemsData)[_0x4b0570(0x2a1)](([_0x2db6c0,_0xff1af4])=>!_0xff1af4[_0x4b0570(0x2e2)]);if(_0x289c2d[_0x4b0570(0x27d)]===0x0){_0x21db7a[_0x4b0570(0x2be)]=_0x4b0570(0x295);return;}const _0x3fd1c1=_0x289c2d[_0x4b0570(0x2a9)](([_0x16c1ac,_0x1ea8bb])=>{const _0x1da999=_0x4b0570,_0x112593=_0x1ea8bb[_0x1da999(0x22d)]?subAdminsData[_0x1ea8bb['assignedTo']]?.[_0x1da999(0x26e)]||'Unknown\x20Sub-Admin':_0x1da999(0x215),_0x1013de=_0x1ea8bb[_0x1da999(0x1de)]?_0x1da999(0x232):_0x1da999(0x22a),_0x508482=_0x1ea8bb[_0x1da999(0x1de)]?_0x1da999(0x2dc):_0x1da999(0x2e0);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20p-6\x20rounded-lg\x20shadow-sm\x20border\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-gray-800\x22>'+_0x1ea8bb[_0x1da999(0x26e)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22px-3\x20py-1\x20rounded-full\x20text-sm\x20font-medium\x20'+_0x1013de+_0x1da999(0x230)+_0x508482+_0x1da999(0x25b)+_0x1ea8bb['quantity']+_0x1da999(0x2bc)+_0x112593+_0x1da999(0x27b)+(_0x1ea8bb[_0x1da999(0x1de)]?_0x1da999(0x25c)+_0x16c1ac+_0x1da999(0x24d):_0x1da999(0x236)+_0x16c1ac+_0x1da999(0x201))+_0x1da999(0x226);})[_0x4b0570(0x1c5)]('');_0x21db7a[_0x4b0570(0x2be)]=_0x3fd1c1;}async function unassignItem(_0x13c028){const _0x11d7bb=_0x200bb6;try{await database[_0x11d7bb(0x1ff)](_0x11d7bb(0x272)+_0x13c028)[_0x11d7bb(0x231)]({'assignedTo':null,'available':!![]}),showNotification(_0x11d7bb(0x1da),_0x11d7bb(0x1e0));}catch(_0x402826){console['error'](_0x11d7bb(0x1ef),_0x402826),showNotification('Error\x20unassigning\x20item','error');}}document[_0x200bb6(0x2e3)]('DOMContentLoaded',()=>{const _0x348b91=_0x200bb6,_0x53faed=document['getElementById'](_0x348b91(0x1ec));_0x53faed&&_0x53faed[_0x348b91(0x2e3)](_0x348b91(0x242),showAddItemModal);});function loadTransactionHistory(){displayTransactionHistory();}function displayTransactionHistory(){const _0x3f27ee=_0x200bb6,_0x2d03ee=document[_0x3f27ee(0x2c7)]('historyTableBody'),_0x4930b7=Object['entries'](transactionsData)[_0x3f27ee(0x2e9)](([,_0x2c9b24],[,_0x5828af])=>(_0x5828af[_0x3f27ee(0x2ac)]||0x0)-(_0x2c9b24[_0x3f27ee(0x2ac)]||0x0));if(_0x4930b7[_0x3f27ee(0x27d)]===0x0){_0x2d03ee[_0x3f27ee(0x2be)]=_0x3f27ee(0x1f4);return;}_0x2d03ee[_0x3f27ee(0x2be)]=_0x4930b7['map'](([_0x5bcb73,_0x2246c9])=>{const _0x584e26=_0x3f27ee;let _0x4bb729=_0x2246c9['description']||'';if(_0x2246c9['type']===_0x584e26(0x227)&&_0x2246c9[_0x584e26(0x24a)]&&_0x2246c9[_0x584e26(0x24a)]['length']>0x0){const _0x3812ce=_0x2246c9[_0x584e26(0x24a)]['map'](_0x838ad0=>_0x838ad0[_0x584e26(0x26e)]+'\x20('+_0x838ad0[_0x584e26(0x281)]+'x\x20at\x20'+formatCurrency(_0x838ad0[_0x584e26(0x1f8)])+')')[_0x584e26(0x1c5)](',\x20');_0x4bb729=_0x2246c9[_0x584e26(0x29d)]?'Own\x20Purchase:\x20'+_0x3812ce:_0x584e26(0x217)+_0x3812ce;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-4\x20whitespace-nowrap\x20text-sm\x20text-gray-900\x22>'+formatDate(_0x2246c9[_0x584e26(0x2ac)])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-4\x20whitespace-nowrap\x20text-sm\x20text-gray-900\x22>'+_0x2246c9[_0x584e26(0x1f1)][_0x584e26(0x218)]('_','\x20')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-4\x20whitespace-nowrap\x20text-sm\x20text-gray-900\x22>'+getTransactionParty(_0x2246c9)+_0x584e26(0x1fe)+(_0x2246c9[_0x584e26(0x1f1)]===_0x584e26(0x28b)?_0x584e26(0x2bf):_0x2246c9[_0x584e26(0x1f1)]==='money_returned'?_0x584e26(0x1d4):_0x584e26(0x1f5))+'\x22>'+formatCurrency(_0x2246c9['amount']||0x0)+_0x584e26(0x2cc)+(_0x4bb729||_0x584e26(0x2d9))+_0x584e26(0x2eb)+(_0x2246c9[_0x584e26(0x244)]===_0x584e26(0x280)?'bg-green-100\x20text-green-800':_0x2246c9[_0x584e26(0x244)]===_0x584e26(0x1eb)?_0x584e26(0x22a):_0x584e26(0x23e))+_0x584e26(0x2ea)+(_0x2246c9['status']||_0x584e26(0x280))+_0x584e26(0x2d2);})[_0x3f27ee(0x1c5)]('');}function _0x3398(_0x5b0897,_0x53e5f3){const _0xa197e9=_0xa197();return _0x3398=function(_0x33985c,_0x565a46){_0x33985c=_0x33985c-0x1c3;let _0x2cd035=_0xa197e9[_0x33985c];return _0x2cd035;},_0x3398(_0x5b0897,_0x53e5f3);}function getTransactionParty(_0x471460){const _0x13ab35=_0x200bb6;if(_0x471460['type']===_0x13ab35(0x241)){const _0x5a05de=subAdminsData[_0x471460['fromUserId']];return _0x5a05de?_0x13ab35(0x2d3)+_0x5a05de['name']:_0x13ab35(0x1cc);}if(_0x471460[_0x13ab35(0x1f1)]===_0x13ab35(0x227)&&_0x471460[_0x13ab35(0x29d)]){const _0x4e3b8c=subAdminsData[_0x471460[_0x13ab35(0x1cb)]];return _0x4e3b8c?_0x4e3b8c[_0x13ab35(0x26e)]+_0x13ab35(0x229):_0x13ab35(0x1cc);}if(_0x471460['fromUserId']===currentUser[_0x13ab35(0x205)]){const _0x5c2818=subAdminsData[_0x471460[_0x13ab35(0x2c9)]];return _0x5c2818?_0x5c2818[_0x13ab35(0x26e)]:'Unknown';}else{if(_0x471460[_0x13ab35(0x2c9)]===currentUser[_0x13ab35(0x205)]){const _0x4be5fa=subAdminsData[_0x471460[_0x13ab35(0x1cb)]];return _0x4be5fa?_0x4be5fa[_0x13ab35(0x26e)]:_0x13ab35(0x1cc);}else{if(_0x471460[_0x13ab35(0x1cb)]===_0x471460[_0x13ab35(0x2c9)]){const _0x127fd4=subAdminsData[_0x471460[_0x13ab35(0x1cb)]];return _0x127fd4?_0x127fd4[_0x13ab35(0x26e)]+_0x13ab35(0x25a):_0x13ab35(0x1cc);}}}return _0x13ab35(0x2d9);}function filterHistory(){const _0x2e7d42=_0x200bb6,_0x1d0aa1=document['getElementById'](_0x2e7d42(0x2b1))['value'],_0xe7e0f8=document['getElementById'](_0x2e7d42(0x2b3))[_0x2e7d42(0x25f)],_0x4e4906=document[_0x2e7d42(0x2c7)]('historyTypeFilter')[_0x2e7d42(0x25f)],_0x456c6b=document['querySelectorAll'](_0x2e7d42(0x1cf));_0x456c6b[_0x2e7d42(0x2c6)](_0x34dfdf=>{const _0x5698c8=_0x2e7d42,_0x490f69=_0x34dfdf[_0x5698c8(0x20e)]('td:first-child'),_0x3d1288=_0x34dfdf[_0x5698c8(0x20e)]('td:nth-child(2)');if(!_0x490f69||!_0x3d1288)return;const _0x55e10c=new Date(_0x490f69[_0x5698c8(0x266)]),_0x385ea2=_0x3d1288[_0x5698c8(0x266)][_0x5698c8(0x27c)]()[_0x5698c8(0x218)]('\x20','_');let _0x29ee0c=!![];if(_0x1d0aa1&&_0x55e10c<new Date(_0x1d0aa1))_0x29ee0c=![];if(_0xe7e0f8&&_0x55e10c>new Date(_0xe7e0f8))_0x29ee0c=![];if(_0x4e4906&&_0x385ea2!==_0x4e4906)_0x29ee0c=![];_0x34dfdf[_0x5698c8(0x279)]['display']=_0x29ee0c?'':'none';});}function exportHistory(){const _0x2df239=_0x200bb6,_0x2b5fbf=Object[_0x2df239(0x278)](transactionsData)[_0x2df239(0x2e9)](([,_0x193ac8],[,_0x524058])=>(_0x524058[_0x2df239(0x2ac)]||0x0)-(_0x193ac8[_0x2df239(0x2ac)]||0x0)),_0x5854c5=[[_0x2df239(0x2aa),_0x2df239(0x273),_0x2df239(0x29a),_0x2df239(0x23a),'Description','Status'],..._0x2b5fbf['map'](([_0x3825c9,_0x3275b5])=>[formatDate(_0x3275b5[_0x2df239(0x2ac)]),_0x3275b5[_0x2df239(0x1f1)][_0x2df239(0x218)]('_','\x20'),getTransactionParty(_0x3275b5),_0x3275b5[_0x2df239(0x283)]||0x0,_0x3275b5[_0x2df239(0x2e8)]||_0x2df239(0x2d9),_0x3275b5[_0x2df239(0x244)]||'completed'])][_0x2df239(0x2a9)](_0x21c3ce=>_0x21c3ce['join'](','))['join']('\x0a'),_0x17f7d7=new Blob([_0x5854c5],{'type':_0x2df239(0x228)}),_0x311c09=window['URL'][_0x2df239(0x1f9)](_0x17f7d7),_0x1d4b5a=document[_0x2df239(0x2d1)]('a');_0x1d4b5a['href']=_0x311c09,_0x1d4b5a['download']='transaction_history_'+new Date()[_0x2df239(0x2cd)]()[_0x2df239(0x27f)]('T')[0x0]+'.csv',_0x1d4b5a[_0x2df239(0x242)](),window[_0x2df239(0x282)][_0x2df239(0x263)](_0x311c09);}function loadProfileSettings(){const _0x32f257=_0x200bb6;currentUserData&&(document['getElementById']('profileName')[_0x32f257(0x25f)]=currentUserData[_0x32f257(0x26e)]||'',document[_0x32f257(0x2c7)](_0x32f257(0x2b8))[_0x32f257(0x25f)]=currentUserData[_0x32f257(0x2ae)]||'',document[_0x32f257(0x2c7)](_0x32f257(0x1fa))[_0x32f257(0x25f)]=currentUserData[_0x32f257(0x294)]||'');}async function handleProfileUpdate(_0x3723d8){const _0x184738=_0x200bb6;_0x3723d8[_0x184738(0x246)]();const _0x38c3de=document[_0x184738(0x2c7)]('profileName')['value'],_0xc34cbc=document[_0x184738(0x2c7)](_0x184738(0x1fa))[_0x184738(0x25f)];try{await database['ref'](_0x184738(0x2d8)+currentUser[_0x184738(0x205)])[_0x184738(0x231)]({'name':_0x38c3de,'phone':_0xc34cbc,'updatedAt':firebase['database']['ServerValue'][_0x184738(0x29c)]}),showNotification(_0x184738(0x225),_0x184738(0x1e0));}catch(_0x2446c3){console[_0x184738(0x249)](_0x184738(0x1d3),_0x2446c3),showNotification(_0x184738(0x1e9)+_0x2446c3[_0x184738(0x1e7)],'error');}}async function handlePasswordChange(_0x50fcee){const _0x162b4c=_0x200bb6;_0x50fcee[_0x162b4c(0x246)]();const _0x235031=document[_0x162b4c(0x2c7)]('currentPassword')[_0x162b4c(0x25f)],_0x414ecb=document['getElementById'](_0x162b4c(0x251))[_0x162b4c(0x25f)],_0xeca134=document[_0x162b4c(0x2c7)](_0x162b4c(0x20f))['value'];if(_0x414ecb!==_0xeca134){showNotification(_0x162b4c(0x2e1),_0x162b4c(0x249));return;}if(_0x414ecb[_0x162b4c(0x27d)]<0x6){showNotification('Password\x20must\x20be\x20at\x20least\x206\x20characters',_0x162b4c(0x249));return;}try{const _0x1380f9=firebase[_0x162b4c(0x2ca)][_0x162b4c(0x23f)][_0x162b4c(0x2ab)](currentUser[_0x162b4c(0x2ae)],_0x235031);await currentUser['reauthenticateWithCredential'](_0x1380f9),await currentUser[_0x162b4c(0x1e1)](_0x414ecb),showNotification(_0x162b4c(0x262),'success'),document[_0x162b4c(0x2c7)](_0x162b4c(0x243))[_0x162b4c(0x1ca)]();}catch(_0x5153fa){console[_0x162b4c(0x249)](_0x162b4c(0x206),_0x5153fa),showNotification(_0x162b4c(0x239)+_0x5153fa[_0x162b4c(0x1e7)],_0x162b4c(0x249));}}function handleGlobalSearch(){const _0x44b235=_0x200bb6,_0x35a620=document[_0x44b235(0x2c7)]('globalSearch')[_0x44b235(0x25f)][_0x44b235(0x27c)]();if(_0x35a620[_0x44b235(0x27d)]<0x2)return;switch(currentSection){case _0x44b235(0x234):document['getElementById']('subAdminSearch')[_0x44b235(0x25f)]=_0x35a620,filterSubAdmins();break;}}function createModal(_0x8413f5,_0x27987d){const _0x496f70=_0x200bb6,_0x55e7ca=document[_0x496f70(0x2d1)](_0x496f70(0x22b));return _0x55e7ca[_0x496f70(0x2b0)]=_0x496f70(0x1db),_0x55e7ca[_0x496f70(0x2be)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20rounded-lg\x20p-6\x20w-full\x20max-w-md\x20mx-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-lg\x20font-semibold\x22>'+_0x8413f5+_0x496f70(0x257)+_0x27987d+_0x496f70(0x1e8),document['getElementById'](_0x496f70(0x222))[_0x496f70(0x20a)](_0x55e7ca),_0x55e7ca;}function closeModal(){const _0x2a331d=_0x200bb6,_0xf6b744=document[_0x2a331d(0x2c7)](_0x2a331d(0x222));_0xf6b744['innerHTML']='';}window[_0x200bb6(0x1dd)]=function(_0x31da5f){const _0x28b443=_0x200bb6;console[_0x28b443(0x29e)](_0x28b443(0x207),_0x31da5f);},window['toggleSubAdminStatus']=function(_0x3fcbc1){console['log']('Toggle\x20sub-admin\x20status:',_0x3fcbc1);},window[_0x200bb6(0x28f)]=function(_0x3afae2){const _0x2ffe95=_0x200bb6;confirm(_0x2ffe95(0x1e6))&&console[_0x2ffe95(0x29e)](_0x2ffe95(0x216),_0x3afae2);},window[_0x200bb6(0x264)]=function(_0xfe19af){const _0x5933c5=_0x200bb6;console[_0x5933c5(0x29e)](_0x5933c5(0x269),_0xfe19af);},window[_0x200bb6(0x2c8)]=function(_0x5b9ad0){const _0x22cafd=_0x200bb6;console[_0x22cafd(0x29e)](_0x22cafd(0x265),_0x5b9ad0);},window[_0x200bb6(0x214)]=function(_0x1e5795){const _0x416469=_0x200bb6;confirm(_0x416469(0x2d6))&&console[_0x416469(0x29e)]('Delete\x20item:',_0x1e5795);},window[_0x200bb6(0x22f)]=closeModal;function showNotification(_0x3d2f97,_0x542a53=_0x200bb6(0x21f)){const _0x3389dd=_0x200bb6,_0x3d30e0=document['createElement'](_0x3389dd(0x22b));_0x3d30e0[_0x3389dd(0x2b0)]=_0x3389dd(0x2ba)+(_0x542a53===_0x3389dd(0x1e0)?_0x3389dd(0x1e3):_0x542a53==='error'?_0x3389dd(0x204):'bg-blue-500')+'\x20text-white',_0x3d30e0[_0x3389dd(0x2be)]=_0x3389dd(0x285)+(_0x542a53===_0x3389dd(0x1e0)?_0x3389dd(0x24c):_0x542a53==='error'?_0x3389dd(0x2af):'fa-info-circle')+_0x3389dd(0x287)+_0x3d2f97+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document['body'][_0x3389dd(0x20a)](_0x3d30e0),setTimeout(()=>{_0x3d30e0['remove']();},0xbb8);}async function updateDashboardMetrics(){const _0x467719=_0x200bb6;try{const _0x5bcafe=await getUserBalance(currentUser['uid']);document[_0x467719(0x2c7)](_0x467719(0x237))['textContent']=formatCurrency(_0x5bcafe);const _0x301a6f=Object['values'](transactionsData||{})[_0x467719(0x2a1)](_0x12fdb9=>_0x12fdb9[_0x467719(0x1f1)]===_0x467719(0x28b))[_0x467719(0x2bb)]((_0x522fac,_0x56305b)=>_0x522fac+(_0x56305b[_0x467719(0x283)]||0x0),0x0),_0x3af777=Object[_0x467719(0x28a)](transactionsData||{})[_0x467719(0x2a1)](_0x4bbffa=>_0x4bbffa[_0x467719(0x1f1)]===_0x467719(0x284))[_0x467719(0x2bb)]((_0x433429,_0x2850c3)=>_0x433429+(_0x2850c3['amount']||0x0),0x0);document[_0x467719(0x2c7)]('moneyDistributed')[_0x467719(0x266)]=formatCurrency(_0x301a6f),document[_0x467719(0x2c7)](_0x467719(0x256))[_0x467719(0x266)]=formatCurrency(_0x3af777);}catch(_0x35eeed){console['error'](_0x467719(0x2de),_0x35eeed),showNotification(_0x467719(0x255),'error');}}
